{%- assign mobile_hide = section.settings.mobile_hide -%}
{%- assign desktop_hide = section.settings.desktop_hide -%}
{%- assign top_padding_number = section.settings.top_padding_number -%}
{%- assign bottom_padding_number = section.settings.bottom_padding_number -%}

{%- if mobile_hide -%}
  <style>
    @media screen and (max-width: 640px) {
      #section-{{ section.id }} {
        display: none !important;
      }
    }
  </style>
{%- endif -%}
{%- if desktop_hide -%}
  <style>
    @media screen and (min-width: 641px) {
      #section-{{ section.id }} {
        display: none !important;
      }
    }
  </style>
{%- endif -%}

{%- if top_padding_number != blank -%}
  <style>
    #section-{{ section.id }} {
      padding-top: {{ top_padding_number | append: 'px' }};
    }
  </style>
{%- endif -%}

{%- if bottom_padding_number != blank -%}
  <style>
    #section-{{ section.id }} {
      padding-bottom: {{ bottom_padding_number | append: 'px' }};
    }
  </style>
{%- endif -%}

<section class="Section" id="section-{{ section.id }}" data-section-id="{{ section.id }}" data-section-type="image-with-text-block-design">
  {%- assign image = section.settings.image -%}
  {%- assign image_mobile = section.settings.image_mobile -%}
  {%- assign block_position = section.settings.block_position -%}
  {%- assign subtitle = section.settings.subtitle -%}
  {%- assign title = section.settings.title -%}
  {%- assign content = section.settings.content -%}
  {%- assign button_label = section.settings.button_label -%}
  {%- assign button_link = section.settings.button_link -%}
  {%- assign button_label_2 = section.settings.button_label_2 -%}
  {%- assign button_link_2 = section.settings.button_link_2 -%}
  {%- assign show_parallax = section.settings.show_parallax -%}
  {%- assign block_text_align_desk = section.settings.block_text_align_desk -%}
  {%- assign block_text_align_mobile = section.settings.block_text_align_mobile -%}
  {%- assign full_height = section.settings.full_height -%}
  {%- assign large_size = section.settings.large_size -%}
  {%- assign top_margin = section.settings.top_margin -%}
  {%- assign bottom_margin = section.settings.bottom_margin -%}

  {% render 'iwt-hero-block',
    image: image, image_mobile: image_mobile, block_position: block_position, subtitle: subtitle, title: title,
    content: content, button_label: button_label, button_link: button_link, show_parallax: show_parallax, large_size: large_size,
    block_text_align_desk: block_text_align_desk, block_text_align_mobile: block_text_align_mobile, full_height: full_height,
    bottom_margin: bottom_margin, top_margin: top_margin, button_label_2: button_label_2, button_link_2: button_link_2 %}
</section>

{% schema %}
{
  "name": "Background with text",
  "settings": [
    {
      "type": "checkbox",
      "id": "mobile_hide",
      "label": "Hide on mobile"
    },
    {
      "type": "checkbox",
      "id": "desktop_hide",
      "label": "Hide on desktop"
    },
    {
      "type": "header",
      "content": "Padding controls",
      "info": "Padding unit defined in 'px'. Don't use 'rem', 'em', 'px', '%' or something else."
    },
    {
      "type": "text",
      "id": "top_padding_number",
      "label": "Top padding"
    },
    {
      "type": "text",
      "id": "bottom_padding_number",
      "label": "Bottom padding"
    },
    {
      "type": "checkbox",
      "id": "full_height",
      "label": "Full screen height",
      "default": false
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image",
      "info": "Required"
    },
    {
      "type": "image_picker",
      "id": "image_mobile",
      "label": "Image mobile",
      "info": "Optional"
    },
    {
      "type": "select",
      "id": "block_position",
      "label": "Block position",
      "options": [
        {
          "value": "top-left",
          "label": "Top Left"
        },
        {
          "value": "top-center",
          "label": "Top Center"
        },
        {
          "value": "top-right",
          "label": "Top Right"
        },
        {
          "value": "center-left",
          "label": "Center Left"
        },
        {
          "value": "center-center",
          "label": "Center Center"
        },
        {
          "value": "center-right",
          "label": "Center Right"
        },
        {
          "value": "bottom-left",
          "label": "Bottom Left"
        },
        {
          "value": "bottom-center",
          "label": "Bottom Center"
        },
        {
          "value": "bottom-right",
          "label": "Bottom Right"
        }
      ],
      "default": "center-center"
    },
    {
      "type": "select",
      "id": "block_text_align_desk",
      "label": "Block text align desktop",
      "options": [
        {
          "value": "text-align--desktop--left",
          "label": "Left"
        },
        {
          "value": "text-align--desktop--center",
          "label": "Center"
        },
        {
          "value": "text-align--desktop--right",
          "label": "Right"
        }
      ],
      "default": "text-align--desktop--left"
    },
    {
      "type": "select",
      "id": "block_text_align_mobile",
      "label": "Block text align mobile",
      "options": [
        {
          "value": "text-align--mobile--left",
          "label": "Left"
        },
        {
          "value": "text-align--mobile--center",
          "label": "Center"
        },
        {
          "value": "text-align--mobile--right",
          "label": "Right"
        }
      ],
      "default": "text-align--mobile--left"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subeading"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Heading"
    },
    {
      "type": "checkbox",
      "id": "large_size",
      "label": "Large size title",
      "default": false
    },
    {
      "type": "richtext",
      "id": "content",
      "label": "Text"
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button label"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button link"
    },
    {
      "type": "text",
      "id": "button_label_2",
      "label": "Button label 2"
    },
    {
      "type": "url",
      "id": "button_link_2",
      "label": "Button link 2"
    },
    {
      "type": "checkbox",
      "id": "show_parallax",
      "label": "Show parallax scrolling effect",
      "info": "Only applies to desktop.",
      "default": true
    }
  ],
  "presets": [
    {
      "category": "Image",
      "name": "Background with text",
      "settings": {}
    }
  ]
}
{% endschema %}